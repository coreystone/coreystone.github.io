<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>Federal privacy: ready, or not? | Corey Stone</title>
<meta name="keywords" content="news, privacy">
<meta name="description" content="Discussing the recent American Privacy Rights Act (APRA) and its failed predecessors.">
<meta name="author" content="Me">
<link rel="canonical" href="http://localhost:1313/posts/federal-privacy-law/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.cd0c10bc3cbe679e2e41b40a4edfe5a6f5e2a27e696a2b7f0aa7e1b9874ad556.css" integrity="sha256-zQwQvDy&#43;Z54uQbQKTt/lpvXion5pait/CqfhuYdK1VY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/federal-privacy-law/">

<meta name="twitter:title" content="Federal privacy: ready, or not? | Corey Stone" />
<meta name="twitter:description" content="Discussing the recent American Privacy Rights Act (APRA) and its failed predecessors." />
<meta property="og:title" content="Federal privacy: ready, or not? | Corey Stone" />
<meta property="og:description" content="Discussing the recent American Privacy Rights Act (APRA) and its failed predecessors." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/federal-privacy-law/" />
<meta property="article:section" content="posts" />
  <meta property="article:published_time" content="2024-04-30T00:00:00&#43;00:00" />
  <meta property="article:modified_time" content="2024-04-30T00:00:00&#43;00:00" />


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Federal privacy: ready, or not?",
      "item": "http://localhost:1313/posts/federal-privacy-law/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Federal privacy: ready, or not? | Corey Stone",
  "name": "Federal privacy: ready, or not?",
  "description": "Discussing the recent American Privacy Rights Act (APRA) and its failed predecessors.",
  "keywords": [
    "news", "privacy"
  ],
  "wordCount" : "1548",
  "inLanguage": "en",
  "datePublished": "2024-04-30T00:00:00Z",
  "dateModified": "2024-04-30T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Me"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/federal-privacy-law/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Corey Stone",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary-bg: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list-page {
                background: var(--theme);
            }

            .list-page:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list-page:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

</head>

<body class=" type-posts kind-page layout-" id="top"><script data-no-instant>
function switchTheme(theme) {
  switch (theme) {
    case 'light':
      document.body.classList.remove('dark');
      break;
    case 'dark':
      document.body.classList.add('dark');
      break;
    
    default:
      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
      }
  }
}

function isDarkTheme() {
  return document.body.className.includes("dark");
}

function getPrefTheme() {
  return localStorage.getItem("pref-theme");
}

function setPrefTheme(theme) {
  switchTheme(theme)
  localStorage.setItem("pref-theme", theme);
}

const toggleThemeCallbacks = {}
toggleThemeCallbacks['main'] = (isDark) => {
  
  if (isDark) {
    setPrefTheme('light');
  } else {
    setPrefTheme('dark');
  }
}




window.addEventListener('toggle-theme', function() {
  
  const isDark = isDarkTheme()
  for (const key in toggleThemeCallbacks) {
    toggleThemeCallbacks[key](isDark)
  }
});


function toggleThemeListener() {
  
  window.dispatchEvent(new CustomEvent('toggle-theme'));
}

</script>
<script>
  
  (function() {
    const defaultTheme = 'auto';
    const prefTheme = getPrefTheme();
    const theme = prefTheme ? prefTheme : defaultTheme;

    switchTheme(theme);
  })();
</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Corey Stone (Alt + H)">Corey Stone</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/about/" title="About Me"
                >About Me
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/posts/" title="Blog" class="active"
                >Blog
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="Projects"
                >Projects
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main post">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div><h1 class="post-title">Federal privacy: ready, or not?</h1>
    <div class="post-description">Discussing the recent American Privacy Rights Act (APRA) and its failed predecessors.</div>
    <div class="post-meta"><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select: text;"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select: text;"></rect><line x1="16" y1="2" x2="16" y2="6" style="user-select: text;"></line><line x1="8" y1="2" x2="8" y2="6" style="user-select: text;"></line><line x1="3" y1="10" x2="21" y2="10" style="user-select: text;"></line></svg>
  <span>April 30, 2024</span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon" style="user-select: text;"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z" style="user-select: text;"></path><line x1="7" y1="7" x2="7" y2="7" style="user-select: text;"></line></svg>
  <span class="post-tags"><a href="http://localhost:1313/tags/news/">News</a><a href="http://localhost:1313/tags/privacy/">Privacy</a></span></span><span class="meta-item">
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><circle cx="12" cy="12" r="9"></circle><polyline points="12 7 12 12 15 15"></polyline></svg>
  <span>8 min</span></span>

      
      
    </div>
  </header> <div class="toc side right">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#introduction" aria-label="Introduction">Introduction</a></li>
                <li>
                    <a href="#some-history" aria-label="Some history">Some history</a></li>
                <li>
                    <a href="#enter-apra" aria-label="Enter APRA">Enter APRA</a></li>
                <li>
                    <a href="#california-against-the-world" aria-label="California against the world">California against the world</a></li>
                <li>
                    <a href="#whats-next" aria-label="What&rsquo;s next?">What&rsquo;s next?</a>
                </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="introduction">Introduction<a hidden class="anchor" aria-hidden="true" href="#introduction">¶</a></h2>
<p>A common gripe in the United States privacy space is the lack of a cohesive, unifying federal privacy law. At the time of writing, 16 states have taken it upon themselves to enact their own state-level privacy legislation and there are over 10 other states with some kind of legislation under review. Each year sees more states drafting and passing privacy legislation that they see fit for their residents.</p>
<p><figure>
    <img loading="lazy" src="/images/state-law-map.png"/> 
</figure>

<em>via <a href="https://medium.com/@Steiner254/insecure-direct-object-references-idor-16bf0b981b90">IAPP</a></em></p>
<p>To make things more complicated&ndash; and in true American fashion&ndash; each state&rsquo;s privacy law(s) often have their own quirks that set them apart from the rest. This can includes how &ldquo;personal information&rdquo; is defined and what types of data and entities are in scope of the law and also what rights a consumer may have with respect to their data, for example. Understanding and accounting for these differences across each state is a real challenge for organizations just trying to be compliant.</p>
<p>Consumers, understandably not abreast of the constant developments in state data protection and privacy laws,  stand to lose even more than the organizations processing their data because <a href="https://www.permission.io/blog/data-ownership-who-owns-data-and-why-it-matters">that data ultimately belongs to them</a>.</p>
<p>Privacy-conscious residents of one state might find themselves confused trying to understand what rights they have compared to residents of other states, and, where there is an overlap, that confusion might turn to frustration upon finding out that, in some cases, the rights they are afforded may not be as strong or expansive as those of other states.</p>
<p>If you ask a privacy professional what they think of this current state of affairs, they might call this a headache. Another might simply call it job security. What most will agree on, however, is that things can and need to be better: for the sake of consumers and organizations alike.</p>
<h2 id="some-history">Some history<a hidden class="anchor" aria-hidden="true" href="#some-history">¶</a></h2>
<p>Currently, <a href="https://worldpopulationreview.com/country-rankings/data-privacy-laws-by-country">over 120 countries</a> (about 70% of nations worldwide) have effected some form of national data privacy legislation, <em>except the United States</em>.</p>
<p>Well, it&rsquo;s not actually that simple. It is correct to say that the United States does not yet have a <em>comprehensive</em> federal data privacy law, but that doesn&rsquo;t paint the whole picture.</p>
<p>In this context, a &ldquo;comprehensive&rdquo; law is one that defines and sets rules for the processing of personal information (by any company or entity), outlines penalties for violations, provides rights and liberties to data subjects, and institutes an authority to enforce the law. The golden standard is currently Europe&rsquo;s <a href="https://gdpr.eu/what-is-gdpr/">General Data Protectuion Regulation (GDPR)</a>, which provides across-the-board protection for personal data pertaining to EU citizens and residents, barring some exceptions.</p>
<p>We Americans just do things a little differently here, from the high-fructose corn syrup to the imperial system, including a sector-based approach to national legislation, including privacy.</p>
<p>Editor&rsquo;s note: <a href="https://worldpopulationreview.com/country-rankings/countries-that-use-imperial">after further research</a>, I have learned that Liberia and Myanmar officially use freedom units and some Commonwealth countries still use them in various cases.</p>
<p>In the past, the US has tackled privacy concerns by focusing on a specific sector or industry (like healthcare or banking), rather than making sweeping (comprehensive) changes across industries.</p>
<p>Below are some federal laws tangential to privacy:</p>
<ul>
<li>1974: <a href="https://www.justice.gov/opcl/privacy-act-1974">Privacy Act of 1974</a>
<ul>
<li>Established general <a href="https://www.techtarget.com/whatis/definition/Fair-Information-Practices-FIP">fair information practices (FIPs)</a> and restrictions to govern records containing personal information</li>
</ul>
</li>
<li>1996: <a href="https://www.hhs.gov/hipaa/for-professionals/privacy/laws-regulations/index.html">Health Insurance Portability and Accountability Act (HIPAA)</a>
<ul>
<li>Defined <a href="https://www.hipaajournal.com/what-is-hipaa/">&ldquo;protected health information” (PHI)</a> to regulate the health insurance industry</li>
</ul>
</li>
<li>1999: <a href="https://www.ftc.gov/business-guidance/privacy-security/gramm-leach-bliley-act">Gramm-Leach-Bliley Act (GLBA)</a>
<ul>
<li>Requires financial institutions to protect sensitive data and provide notice regarding information-sharing practices</li>
</ul>
</li>
<li>2000: <a href="https://www.ftc.gov/legal-library/browse/rules/childrens-online-privacy-protection-rule-coppa">Children&rsquo;s Online Privacy Protection Act (COPPA)</a>
<ul>
<li>Regulates collection of personal information of children under the age of 13</li>
</ul>
</li>
</ul>
<p>So things are a little more complicated than it seems. But this is not to say that the US hasn&rsquo;t <em>tried</em> its hand at a comprehensive privacy law. In fact, 2022 saw the introduction of the <a href="https://www.congress.gov/bill/117th-congress/house-bill/8152">American Data Privacy and Protection Act (ADPPA)</a> which sought to establish a comprehensive framework for &ldquo;how companies, including nonprofits and common carriers, handle personal data, which includes information that identifies or is reasonably linkable to an individual.&rdquo; In July 2022, <a href="https://natlawreview.com/article/american-data-privacy-and-protection-act-are-we-finally-getting-federal-data-privacy">the draft</a> passed through the <a href="https://energycommerce.house.gov/">House Energy and Commerce Committee</a> with bipartisan support. ADPPA (<em>ad-puh?</em>) defined categories of personal and sensitive personal data that would be protected, afforded various privacy rights and opt-out choices to consumers (inlcuding <a href="https://amazelaw.com/private-right-of-action/">private right of actions</a>).</p>
<p>The ADPPA was not without its critics, however, such as the <a href="https://www.eff.org/deeplinks/2022/07/americans-deserve-more-current-american-data-privacy-protection-act">Electronic Frontier Foundation (EFF)</a>, who warned that the bill would &ldquo;[diminish] the country&rsquo;s privacy landscape&rdquo; by undermining existing state protections provided to consumers and also set up loopholes for &ldquo;service providers&rdquo; that process personal information and contract with the government.</p>
<p>There has not been any movement on the bill in the last two years, however, and after Congress adjourned in January 2023, the committee would need to re-introduce and vote on the bill to move it to the House floor.</p>
<p><figure>
    <img loading="lazy" src="/images/state-law-chart.png"/> 
</figure>

<em>via <a href="https://medium.com/@Steiner254/insecure-direct-object-references-idor-16bf0b981b90">IAPP</a></em></p>
<h2 id="enter-apra">Enter APRA<a hidden class="anchor" aria-hidden="true" href="#enter-apra">¶</a></h2>
<p>In April 2024, the House Commitee on Energy and Commerce sought to avenge the ADPPA by unveiling a draft of <a href="https://www.commerce.senate.gov/2024/4/committee-chairs-cantwell-mcmorris-rodgers-unveil-historic-draft-comprehensive-data-privacy-legislation">the American Privacy Rights Act (APRA)</a>: a new bipartisan federal data privacy bill that provisions &ldquo;[national] data privacy rights and protections for Americans, eliminates the existing patchwork of state comprehensive data privacy laws and establishes robust enforcement mechanisms to hold violators accountable, including a private right of action for individuals.&rdquo;</p>
<p>At first glance, APRA (<em>ap-ruh?</em>) seems to check all the boxes for a comprehensive privacy framework by strengthenening protections outlined in ADPPA and outlining new ones. Additionally, there is a clear impression of trying to &ldquo;get with the times&rdquo; here, as to adapt the law to developing trends and technologies that regulators have struggled to keep up with. For example, AI and <a href="https://towardsdatascience.com/what-is-algorithm-fairness-3182e161cf9f">algorithm fairness</a> are specific areas of concern, where new &ldquo;algorithm impact assessments&rdquo; would be required under certain circumstances. Other obligations for data brokers and &ldquo;high-impact social media companies&rdquo; would also seek to put a bigger onus on ad-tech and big tech companies to properly manage personal information for consumers at a national level.</p>
<p>However, the fact that APRA is so similar to ADPPA seems to be its biggest weakness.</p>
<h2 id="california-against-the-world">California against the world<a hidden class="anchor" aria-hidden="true" href="#california-against-the-world">¶</a></h2>
<p>In April, the <a href="https://cppa.ca.gov/about_us/">California Privacy Protection Agency (CPPA)</a> wrote to the Chairs of the House Energy &amp; Commerce Committee and the Innovation, Data, and Commerce Subcommittee (come on&hellip; there has to be an acronym or nickname for that, right?)  and <a href="https://cppa.ca.gov/announcements/2024/20240416.html">described how the current draft of APRA would &ldquo;weaken privacy protections for Californians.&rdquo;</a></p>
<p><a href="https://ashkansoltani.org/">Ashkan Soltani</a>, the executive director of the CPPA, is an outspoken critic of APRA: &ldquo;The CPPA supports a federal law that sets the floor for these protections, but as drafted, APRA seeks to set the ceiling. This could freeze protections in place for decades.&rdquo;</p>
<blockquote>
<p>&ldquo;The CPPA supports a federal law that sets the floor for these protections, but as drafted, APRA seeks to set the ceiling. This could freeze protections in place for decades.&rdquo; -Ashkan Soltani, Executive Director, California Privacy Protection Agency</p>
</blockquote>
<p>Here are some of the grievances addressed by Soltani in that April letter:</p>
<ul>
<li>APRA would preempt the CPPA&rsquo;s authority and fully divest its responsibilities to the FTC</li>
<li>APRA would prevent legislation around emerging technologies &ldquo;like artificial intelligence, including <a href="https://www.dwt.com/blogs/privacy--security-law-blog/2023/12/california-drafts-automated-decisionmaking-ai-rule">automated decisionmaking technology (ADMT)</a>&rdquo;</li>
<li>APRA would weaken consumer protections against data brokers by repealing the <a href="https://www.latimes.com/politics/story/2023-09-14/california-bill-delete-online-personal-data">California Delete Act</a></li>
<li>APRA does not categorize sexual orientation, union membership, and immigration status as sensitive covered data (unlike the CCPA)</li>
</ul>
<p>tl;dr: California argues that it already does everything that APRA wants do to, but better.</p>
<h2 id="whats-next">What&rsquo;s next?<a hidden class="anchor" aria-hidden="true" href="#whats-next">¶</a></h2>
<p>States like California, Virginia, Utah, and others with already established state-level privacy frameworks are going to be hesitant to welcome these changes, especially if they perceive APRA to provide inferior rights and protections for their residents. Additionally, APRA in its current state would preempt any existing state-level enforcement and transfer that authority to the FTC. Though the FTC has an extensive track record of <a href="https://www.ftc.gov/news-events/topics/protecting-consumer-privacy-security/privacy-security-enforcement">privacy and security enforcement</a>, some state institutions&ndash; such as the CPPA or state attorneys general&ndash; might prefer to be the ones protecting their constituents, especially if they think they can do it better than the FTC. <a href="https://www.newamerica.org/oti/in-the-news/cybersecurity-leaders-express-reserved-support-for-american-privacy-rights-act/">Similar sentiments have been expressed</a> with regards to the FTC being encharged to regulate service providers instead of the FCC.</p>
<p>But what about the residents of those other twenty-some states that are <em>not</em> covered by any data privacy law? Are they to miss out so that residents of already covered states can enjoy their stronger rights?
Should states like California &ldquo;take one for the team&rdquo; so that disenfranchised Americans in the rest of the country can enjoy a modicum of these rights?</p>
<p>My opinion? NO: residents of states with existing privacy laws should not have their rights minimized in the name of &ldquo;the greater good&rdquo;. Civil rights are not a compromise.
It is up to legislators to find a way to empower all Americans without undermining the work that states have already done to protect their constituents.</p>
<p>We&rsquo;ll just have to see what the House thinks.</p>
<p>At the end of the day, all of this is food for though as any talk is ultimately pre-mature. The bill is still in comittee, so it&rsquo;s likely there will be some changes before it gets sent to Congress. It should also be said that the 118th Congress is a Republican majority, so one has to think that it&rsquo;s going to be even more challenging to pass any federal regulations under such circumstances.</p>


  </div>

  <footer class="post-footer">
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/posts/automotive-privacy/">
    <span class="title">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select: text;"><line x1="19" y1="12" x2="5" y2="12" style="user-select: text;"></line><polyline points="12 19 5 12 12 5" style="user-select: text;"></polyline></svg>&nbsp;Prev Page</span>
    <br>
    <span>Automotive privacy and DIY defense</span>
  </a>
  <a class="next" href="http://localhost:1313/posts/privacy-harms/">
    <span class="title">Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select: text;"><line x1="5" y1="12" x2="19" y2="12" style="user-select: text;"></line><polyline points="12 5 19 12 12 19" style="user-select: text;"></polyline></svg>
    </span>
    <br>
    <span>Privacy &#34;harms&#34; and why they matter</span>
  </a>
</nav>

  </footer>
    <div class="comments-separator"></div>
</article>
    </main>
    
<footer class="footer">
  <span>&copy; 2025 <a href="http://localhost:1313/">Corey Stone</a></span><span style="display: inline-block; margin-left: 1em;">
    <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA</a>
  </span>
  <span style="display: inline-block; margin-left: 1em;">
    Powered by
    <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
    <a href="https://github.com/reorx/hugo-PaperModX/" rel="noopener" target="_blank">PaperModX</a>
  </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
    <path d="M12 6H0l6-6z" />
  </svg>
</a>

<script>
  (function() {
     
    const disableThemeToggle = '' == '1';
    if (disableThemeToggle) {
      return;
    }

    let button = document.getElementById("theme-toggle")
    
    button.removeEventListener('click', toggleThemeListener)
    
    button.addEventListener('click', toggleThemeListener)
  })();
</script>

<script>
  (function () {
    let menu = document.getElementById('menu')
    if (menu) {
      menu.scrollLeft = localStorage.getItem("menu-scroll-position");
      menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
      }
    }

    const disableSmoothScroll = '' == '1';
    const enableInstantClick = '' == '1';
    
    if (window.matchMedia('(prefers-reduced-motion: reduce)').matches || disableSmoothScroll || enableInstantClick) {
      return;
    }
    
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener("click", function (e) {
        e.preventDefault();
        var id = this.getAttribute("href").substr(1);
        document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
          behavior: "smooth"
        });
        if (id === "top") {
          history.replaceState(null, null, " ");
        } else {
          history.pushState(null, null, `#${id}`);
        }
      });
    });
  })();
</script>
<script>
  var mybutton = document.getElementById("top-link");
  window.onscroll = function () {
    if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
      mybutton.style.visibility = "visible";
      mybutton.style.opacity = "1";
    } else {
      mybutton.style.visibility = "hidden";
      mybutton.style.opacity = "0";
    }
  };
</script>
<script>
  if (window.scrollListeners) {
    
    for (const listener of scrollListeners) {
      window.removeEventListener('scroll', listener)
    }
  }
  window.scrollListeners = []
</script>



<script src="/js/medium-zoom.min.js" data-no-instant
></script>
<script>
  document.querySelectorAll('pre > code').forEach((codeblock) => {
    const container = codeblock.parentNode.parentNode;

    const copybutton = document.createElement('button');
    copybutton.classList.add('copy-code');
    copybutton.innerText = 'copy';

    function copyingDone() {
      copybutton.innerText = 'copied!';
      setTimeout(() => {
        copybutton.innerText = 'copy';
      }, 2000);
    }

    copybutton.addEventListener('click', (cb) => {
      if ('clipboard' in navigator) {
        navigator.clipboard.writeText(codeblock.textContent);
        copyingDone();
        return;
      }

      const range = document.createRange();
      range.selectNodeContents(codeblock);
      const selection = window.getSelection();
      selection.removeAllRanges();
      selection.addRange(range);
      try {
        document.execCommand('copy');
        copyingDone();
      } catch (e) { };
      selection.removeRange(range);
    });

    if (container.classList.contains("highlight")) {
      container.appendChild(copybutton);
    } else if (container.parentNode.firstChild == container) {
      
    } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
      
      codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
    } else {
      
      codeblock.parentNode.appendChild(copybutton);
    }
  });
</script>




<script>
  
  
  (function() {
    const enableTocScroll = '1' == '1'
    if (!enableTocScroll) {
      return
    }
    if (!document.querySelector('.toc')) {
      console.log('no toc found, ignore toc scroll')
      return
    }
    

    
    const scrollListeners = window.scrollListeners
    const headings = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]');
    const activeClass = 'active';

    
    let activeHeading = headings[0];
    getLinkByHeading(activeHeading).classList.add(activeClass);

    const onScroll = () => {
      const passedHeadings = [];
      for (const h of headings) {
        
        if (getOffsetTop(h) < 5) {
          passedHeadings.push(h)
        } else {
          break;
        }
      }
      if (passedHeadings.length > 0) {
        newActiveHeading = passedHeadings[passedHeadings.length - 1];
      } else {
        newActiveHeading = headings[0];
      }
      if (activeHeading != newActiveHeading) {
        getLinkByHeading(activeHeading).classList.remove(activeClass);
        activeHeading = newActiveHeading;
        getLinkByHeading(activeHeading).classList.add(activeClass);
      }
    }

    let timer = null;
    const scrollListener = () => {
      if (timer !== null) {
        clearTimeout(timer)
      }
      timer = setTimeout(onScroll, 50)
    }
    window.addEventListener('scroll', scrollListener, false);
    scrollListeners.push(scrollListener)

    function getLinkByHeading(heading) {
      const id = encodeURI(heading.getAttribute('id')).toLowerCase();
      return document.querySelector(`.toc ul li a[href="#${id}"]`);
    }

    function getOffsetTop(heading) {
      if (!heading.getClientRects().length) {
        return 0;
      }
      let rect = heading.getBoundingClientRect();
      return rect.top
    }
  })();
  </script>

</body>

</html>
